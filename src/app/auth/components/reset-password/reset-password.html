<app-header></app-header>

<div class="reset-container">
  <div class="reset-card">

    <h2>Restablecer contraseña</h2>
    <p>Introduce tu nueva contraseña</p>

    <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label>Nueva contraseña</label>
        <input type="password" formControlName="password" />
        <small *ngIf="resetForm.get('password')?.invalid && resetForm.get('password')?.touched">
          Mínimo 8 caracteres, una mayúscula y un número
        </small>
      </div>

      <div class="form-group">
        <label>Confirmar contraseña</label>
        <input type="password" formControlName="confirmPassword" />
        <small *ngIf="resetForm.errors?.['mismatch']">
          Las contraseñas no coinciden
        </small>
      </div>

      <button type="submit" [disabled]="resetForm.invalid || loading">
        {{ loading ? 'Guardando...' : 'Cambiar contraseña' }}
      </button>

    </form>

    <div class="message success" *ngIf="successMessage">
      {{ successMessage }}
    </div>

    <div class="message error" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

  </div>
</div>

